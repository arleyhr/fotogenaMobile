{"version":3,"names":[],"mappings":"","sources":["login/login-controller.js"],"sourcesContent":["(function () {\n  'use strict';\n\n  /**\n   * @ngdoc object\n   * @name login.controller:LoginCtrl\n   *\n   * @description\n   *\n   */\n  angular\n    .module('login')\n    .controller('LoginCtrl', LoginCtrl);\n\n  function LoginCtrl(urlBase, $rootScope, $http, LoginService) {\n\n    var self = this;\n\n    this.login_data = {\n      user: 'fecace2',\n      password: '123456'\n    };\n\n    LoginService.getSession().then(function (response) {\n\n      console.log(response)\n\n      self.cookie = response.data\n      \n      localStorage['cookie'] =response.data;\n\n    });\n\n    this.logear = function () {\n\n      $rootScope.chatificator.emit('SessionStart', {\n\n        vii: self.cookie,\n\n        txt_usuario: self.login_data.user,\n\n        txt_password: self.login_data.password\n\n      }, function (a) {\n\n\n        if (angular.equals(a.val, 1) || angular.equals(a.val, 2)) \n          $ionicPopup.alert({\n            title: 'Usuario o Contraseña Incorrectos',\n            subTitle: 'Usuario o Contraseña Incorrectos .l.'\n          });\n\n        else if (angular.equals(a.val, 3)) {\n\n          $rootScope.auth_user = a;\n\n          console.log(a)\n\n          localStorage['auth_user'] = JSON.stringify(a);\n\n          localStorage['cookie'] = 'node=' + a.cook + '--';\n\n          LoginService.afterLogged();\n\n        }\n\n      });\n\n    };\n    \n  }\n}());\n"],"file":"login/login-controller.js","sourceRoot":"/source/"}