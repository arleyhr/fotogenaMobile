{"version":3,"names":[],"mappings":"","sources":["login/login-factory.js"],"sourcesContent":["(function () {\n  'use strict';\n\n  /**\n   * @ngdoc service\n   * @name login.factory:Login\n   *\n   * @description\n   *\n   */\n  angular\n    .module('login')\n    .factory('LoginService', Login);\n\n  function Login($rootScope, $state, $http, urlBase, ChatService) {\n\n    var LoginBase = {};\n\n    LoginBase.getSession = function(){\n\n      return $http.get( urlBase + '/getSession/');\n\n    }\n\n    LoginBase.afterLogged = function () {\n\n        $rootScope.listenMsg();\n\n        $rootScope.notificator.emit('enterRoom', { session: localStorage['cookie'] });\n\n        $rootScope.chatificator.emit('inMobile', {\n\n          token: localStorage['cookie']\n          \n        }, function (data) {\n\n          $rootScope.conectados = data;\n\n          console.log(data)\n\n        });\n\n        ChatService.openChat(function (chats){\n\n          $rootScope.openedChats = chats;\n\n          angular.forEach(chats, function (value, key) {\n\n            ChatService.openChats(value, function (data){\n\n                //\n\n            })\n\n          });\n\n        })\n\n        $state.go('profile',{ nick: JSON.parse(localStorage['auth_user']).nick });\n    }\n\n    return LoginBase;\n  }\n\n}());\n"],"file":"login/login-factory.js","sourceRoot":"/source/"}